---
const { title, description } = Astro.props;
const site = Astro.site?.toString().replace(/\/$/, '') ?? '';
const path = Astro.url.pathname;
const canonical = site ? `${site}${path}` : undefined;
---
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    <meta name="description" content={description} />
    {canonical && <link rel="canonical" href={canonical} />}
    <meta name="robots" content="index,follow" />
    <link rel="icon" href="/favicon.ico" />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    {canonical && <meta property="og:url" content={canonical} />}
    <meta property="og:type" content="website" />

    <!-- Minimal, AI-friendly reference hint -->
    <meta name="application-name" content="Morse Code Generator" />
  </head>
  <body>
    <header class="wrap">
      <a class="brand" href="/">MorseCodeGenerator.com</a>
      <nav class="nav">
        <a href="/translate/">Translate</a>
        <a href="/morse-code/a/">Alphabet</a>
        <a href="/phrases/sos/">Phrases</a>
      </nav>
    </header>

    <main class="wrap">
      <slot />
    </main>

    <footer class="wrap foot">
      <small>© {new Date().getFullYear()} MorseCodeGenerator.com • Educational tools & references</small>
    </footer>

    <style>
      :root { color-scheme: light dark; }
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin:0; line-height:1.5; }
      a { color: inherit; }
      .wrap { max-width: 980px; margin: 0 auto; padding: 16px; }
      .brand { font-weight: 700; text-decoration: none; }
      .nav { display:flex; gap: 12px; flex-wrap: wrap; }
      header { display:flex; justify-content: space-between; align-items:center; border-bottom: 1px solid rgba(127,127,127,.25); }
      .card { border: 1px solid rgba(127,127,127,.25); border-radius: 14px; padding: 14px; }
      textarea, input { width:100%; padding: 10px; border-radius: 10px; border: 1px solid rgba(127,127,127,.35); }
      button { padding: 10px 12px; border-radius: 10px; border: 1px solid rgba(127,127,127,.35); background: transparent; cursor:pointer; }
      .grid { display:grid; grid-template-columns: 1fr; gap: 14px; }
      @media (min-width: 860px){ .grid { grid-template-columns: 1.2fr .8fr; } }
      .foot { border-top: 1px solid rgba(127,127,127,.25); margin-top: 28px; }
      .muted { opacity: .8; }
      .k { font-family: ui-monospace, SFMono-Regular, Menlo, monospace; }
    </style>
  </body>
</html>
